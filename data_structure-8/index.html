<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>数据结构学习(八) - Sukun&#39;s blog</title><meta name="keywords" content="sukun,hugo,博客">
<meta name="Description" content="数据结构——用C语言描述。本节讲述数据结构技术中的查找。"><meta property="og:title" content="数据结构学习(八)" />
<meta property="og:description" content="数据结构——用C语言描述。本节讲述数据结构技术中的查找。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sukun.xyz/data_structure-8/" /><meta property="og:image" content="https://www.sukun.xyz/images/avatar.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-02-17T12:07:19+08:00" />
<meta property="article:modified_time" content="2022-02-17T12:07:19+08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://www.sukun.xyz/images/avatar.png"/>

<meta name="twitter:title" content="数据结构学习(八)"/>
<meta name="twitter:description" content="数据结构——用C语言描述。本节讲述数据结构技术中的查找。"/>
<meta name="application-name" content="Sukun&#39;">
<meta name="apple-mobile-web-app-title" content="Sukun&#39;"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://www.sukun.xyz/data_structure-8/" /><link rel="prev" href="https://www.sukun.xyz/data_structure-7/" /><link rel="next" href="https://www.sukun.xyz/qinglong/" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"><meta name="baidu-site-verification" content="code-HclBWphrqW" /><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "数据结构学习(八)",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/www.sukun.xyz\/data_structure-8\/"
        },"image": ["https:\/\/www.sukun.xyz\/images\/avatar.png"],"genre": "posts","keywords": "数据结构, 学习","wordcount":  4357 ,
        "url": "https:\/\/www.sukun.xyz\/data_structure-8\/","datePublished": "2022-02-17T12:07:19+08:00","dateModified": "2022-02-17T12:07:19+08:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "sukun","logo": "https:\/\/www.sukun.xyz\/images\/avatar.png"},"author": {
                "@type": "Person",
                "name": "Sukun"
            },"description": "数据结构——用C语言描述。本节讲述数据结构技术中的查找。"
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <a href="https://github.com/14772" class="github-corner" target="_blank" title="Follow me on GitHub"
            aria-label="Follow me on GitHub"><svg width="3.5rem" height="3.5rem" viewBox="0 0 250 250"
                style="fill:#70B7FD; color:#fff; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);"
                aria-hidden="true">
                <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
                <path
                    d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
                    fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
                <path
                    d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
                    fill="currentColor" class="octo-body"></path>
            </svg></a>
        <div class="header-title">
            <a href="/" title="Sukun&#39;s blog"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span>Sukun</a>
        </div>
        <div class="menu">
            <div class="menu-inner">
                <div class="dropdown">
                    <a href="javascript:void(0);"  class="menu-item menu-more dropbtn"
                        title="归档" ><i class='fas fa-fw fa-archive'></i> 归档 
                    </a>
                    <div class="menu-more-content dropdown-content"><a href="/categories/" title="类别" >	<i class='fa fa-list'></i> 类别 </a><a href="/tags/" title="标签" ><i class='fa fa-tags'></i> 标签 </a><a href="/posts/" title="所有文章" >	<i class='fa fa-folder-open'></i> 所有文章 </a></div>
                </div>
                
                <div class="dropdown">
                    <a href="/"  class="menu-item menu-more dropbtn"
                        title="回到首页" ><i class='fas fa-fw fa-atom'></i> 站点 
                    </a>
                    <div class="menu-more-content dropdown-content"><a href="/bbs/%E5%85%AC%E5%91%8A%E7%95%99%E8%A8%80/" title="公告板&amp;留言板" ><i class='fa fa-comments'></i> 公告留言 </a><a href="/logs/" title="站点日志" ><i class='fas fa-fw fa-cog fa-spin'></i> 站点日志 </a><a href="/about/" title="关于" >	<i class='fa fa-info-circle'></i> 关于 </a></div>
                </div>
                
                <div class="dropdown">
                    <a href="javascript:void(0);"  class="menu-item menu-more dropbtn"
                        title="文档" ><i class='fas fa-fw fa-book'></i> 文档 
                    </a>
                    <div class="menu-more-content dropdown-content"><a href="https://hugoloveit.com/zh-cn/" title="LoveIt主题文档" > LoveIt主题文档 </a><a href="https://gohugo.io/getting-started/" title="Hugo官方文档" > Hugo官方文档 </a></div>
                </div>
                <a class="menu-item"
                    href="/friends/"  title="欢迎大家来加友链呀" ><i class='fa fa-link fa-fw'></i> 友链墙 
                </a>
                <div class="dropdown">
                    <a href="javascript:void(0);"  class="menu-item menu-more dropbtn"
                        title="" ><i class='fas fa-fw fa-fan fa-spin'></i> 小游戏 
                    </a>
                    <div class="menu-more-content dropdown-content"><a href="/games/mikutap/" title="来和初音打碟！" ><i class='fa fa-headphones'></i> mikutap </a><a href="/games/catch-the-cat/" title="一起来抓猫！" ><i class='fas fa-fw fa-cat'></i> catch the cat </a></div>
                </div>
                <a class="menu-item"
                    href="/search/"  title="搜索请耐心等待几秒钟" ><i class='fas fa-fw fa-search'></i> 搜索 
                </a><a class="menu-item"
                    href="https://github.com/14772"  title="GitHub"  rel="noopener noreffer"
                    target="_blank" ><i class='fab fa-fw fa-github'></i>  
                </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Sukun&#39;s blog"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span>Sukun</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile">
        <div class="dropdown">
            <a href="javascript:void(0);"  class="menu-item menu-more dropbtn"
                title="归档" ><i class='fas fa-fw fa-archive'></i> 归档 
            </a>
            <div class="menu-more-content dropdown-content"><a href="/categories/" title="类别" >	<i class='fa fa-list'></i> 类别 </a><a href="/tags/" title="标签" ><i class='fa fa-tags'></i> 标签 </a><a href="/posts/" title="所有文章" >	<i class='fa fa-folder-open'></i> 所有文章 </a></div>
        </div>
        
        <div class="dropdown">
            <a href="/"  class="menu-item menu-more dropbtn"
                title="回到首页" ><i class='fas fa-fw fa-atom'></i> 站点 
            </a>
            <div class="menu-more-content dropdown-content"><a href="/bbs/%E5%85%AC%E5%91%8A%E7%95%99%E8%A8%80/" title="公告板&amp;留言板" ><i class='fa fa-comments'></i> 公告留言 </a><a href="/logs/" title="站点日志" ><i class='fas fa-fw fa-cog fa-spin'></i> 站点日志 </a><a href="/about/" title="关于" >	<i class='fa fa-info-circle'></i> 关于 </a></div>
        </div>
        
        <div class="dropdown">
            <a href="javascript:void(0);"  class="menu-item menu-more dropbtn"
                title="文档" ><i class='fas fa-fw fa-book'></i> 文档 
            </a>
            <div class="menu-more-content dropdown-content"><a href="https://hugoloveit.com/zh-cn/" title="LoveIt主题文档" > LoveIt主题文档 </a><a href="https://gohugo.io/getting-started/" title="Hugo官方文档" > Hugo官方文档 </a></div>
        </div>
        <a class="menu-item"
            href="/friends/"  title="欢迎大家来加友链呀" ><i class='fa fa-link fa-fw'></i> 友链墙 
        </a>
        <div class="dropdown">
            <a href="javascript:void(0);"  class="menu-item menu-more dropbtn"
                title="" ><i class='fas fa-fw fa-fan fa-spin'></i> 小游戏 
            </a>
            <div class="menu-more-content dropdown-content"><a href="/games/mikutap/" title="来和初音打碟！" ><i class='fa fa-headphones'></i> mikutap </a><a href="/games/catch-the-cat/" title="一起来抓猫！" ><i class='fas fa-fw fa-cat'></i> catch the cat </a></div>
        </div>
        <a class="menu-item"
            href="/search/"  title="搜索请耐心等待几秒钟" ><i class='fas fa-fw fa-search'></i> 搜索 
        </a><a class="menu-item"
            href="https://github.com/14772"  title="GitHub"  rel="noopener noreffer"
            target="_blank" ><i class='fab fa-fw fa-github'></i>  
        </a><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container">
                    <div class="toc" id="toc-auto">
    <h2 class="toc-title">目录</h2>
    <div class="toc-content" id="toc-content-auto"></div>
</div><article class="page single"><h1 class="single-title animated flipInX">数据结构学习(八)</h1><div class="post-meta">
        <div class="post-meta-line"><span class="post-author"><a href="https://www.sukun.xyz" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>Sukun</a></span>&nbsp;<span class="post-category">收录于 <a href="/categories/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"><i class="far fa-folder fa-fw"></i>算法与数据结构</a></span></div>
        <div class="post-meta-line"><i class="far fa-calendar fa-fw"></i>&nbsp;<time datetime="2022-02-17">2022-02-17</time>&nbsp;<i class="far fa-calendar-plus fa-fw"></i>&nbsp;<time datetime="2022-02-17">2022-02-17</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 4357 字
            <i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 9 分钟&nbsp;<span id="/data_structure-8/" class="leancloud_visitors" data-flag-title="数据结构学习(八)">
                <i class="far fa-eye fa-fw"></i>&nbsp;<span class=leancloud-visitors-count></span>&nbsp;次阅读
            </span>&nbsp;
            <a href="#comments" id="post-meta-vcount" title="查看评论">
                <i class="fas fa-comment fa-fw"></i>&nbsp;<span id="/data_structure-8/"
                    class="waline-comment-count"></span>&nbsp;条评论
            </a></div>

    </div><div class="details toc" id="toc-static" kept="">
        <div class="details-summary toc-title">
            <span>目录</span>
            <span><i class="details-icon fas fa-angle-right"></i></span>
        </div>
        <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#技术">技术</a>
      <ul>
        <li><a href="#查找">查找</a>
          <ul>
            <li><a href="#查找的基本概念">查找的基本概念</a></li>
            <li><a href="#基于线性表的查找法">基于线性表的查找法</a>
              <ul>
                <li><a href="#顺序查找法">顺序查找法</a>
                  <ul>
                    <li><a href="#数据类型定义">数据类型定义</a></li>
                    <li><a href="#顺序结构算法">顺序结构算法</a></li>
                    <li><a href="#性能分析">性能分析</a></li>
                  </ul>
                </li>
                <li><a href="#折半查找法">折半查找法</a>
                  <ul>
                    <li><a href="#定义">定义</a></li>
                    <li><a href="#基本过程">基本过程</a></li>
                    <li><a href="#算法">算法</a></li>
                    <li><a href="#性能分析-1">性能分析</a></li>
                  </ul>
                </li>
                <li><a href="#分块查找法">分块查找法</a>
                  <ul>
                    <li><a href="#对所查表要求">对所查表要求</a></li>
                    <li><a href="#基本思想">基本思想</a></li>
                    <li><a href="#平均查找长度">平均查找长度</a></li>
                  </ul>
                </li>
              </ul>
            </li>
            <li><a href="#基于树的查找法">基于树的查找法</a>
              <ul>
                <li><a href="#二叉排序树">二叉排序树</a>
                  <ul>
                    <li><a href="#定义-1">定义</a></li>
                    <li><a href="#插入和生成">插入和生成</a></li>
                    <li><a href="#查找-1">查找</a></li>
                    <li><a href="#查找性能">查找性能</a></li>
                  </ul>
                </li>
                <li><a href="#平衡二叉树">平衡二叉树</a>
                  <ul>
                    <li><a href="#定义-2">定义</a></li>
                    <li><a href="#平衡因子">平衡因子</a></li>
                  </ul>
                </li>
              </ul>
            </li>
            <li><a href="#计算式查找法哈希法">计算式查找法——哈希法</a>
              <ul>
                <li>
                  <ul>
                    <li><a href="#哈希的基本思想">哈希的基本思想</a></li>
                    <li><a href="#哈希函数的构造方法">哈希函数的构造方法</a></li>
                    <li><a href="#处理冲突的方法">处理冲突的方法</a></li>
                    <li><a href="#哈希表的查找过程">哈希表的查找过程</a></li>
                    <li><a href="#哈希法性能分析">哈希法性能分析</a></li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav></div>
    </div><div class="content" id="content"><h1 id="数据结构用c语言描述八">数据结构——用C语言描述(八)</h1>
<h2 id="技术">技术</h2>
<h3 id="查找">查找</h3>
<h4 id="查找的基本概念">查找的基本概念</h4>
<ul>
<li>
<p>列表：由同一类型的数据元素（或记录）构成的集合，可利用任意数据结构实现</p>
</li>
<li>
<p>关键字：数据元素的某个数据项的值可标识列表中的一个数据元素</p>
<p><strong>主关键字</strong>可<strong>唯一标识</strong>列表中的一个数据元素，否则为次关键字</p>
</li>
<li>
<p>查找：根据给定的关键字值，在特定的列表中确定一个其关键字与给定值相同的数据元素，并返回该数据元素在列表中的位置</p>
<ol>
<li>
<p>查找对象 K（找什么）</p>
</li>
<li>
<p>查找范围 L（在哪找）</p>
</li>
<li>
<p>K 在 L 中的位置（查找的结果）</p>
</li>
</ol>
</li>
<li>
<p>平均查找长度（ASL）：查找过程中对关键码的比较次数的平均值
$$
ASL=P_1C_1+P_2C_2+…+P_nC_n=\sum_{i=1}^nP_iC_i\\
P_i为查找概率，C_i为查找次数
$$</p>
</li>
<li>
<p>查找基本方法：</p>
<ol>
<li>线性表查找法</li>
<li>树表式查找法</li>
<li>计算式（哈希）查找法</li>
</ol>
</li>
</ul>
<h4 id="基于线性表的查找法">基于线性表的查找法</h4>
<h5 id="顺序查找法">顺序查找法</h5>
<h6 id="数据类型定义">数据类型定义</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="cp">#define KeyType int
</span><span class="cp">#define OtherType int
</span><span class="cp">#define LIST_SIZE 20
</span><span class="cp"></span><span class="k">typedef</span> <span class="k">struct</span>
<span class="p">{</span>
    <span class="n">KeyType</span> <span class="n">key</span><span class="p">;</span>
    <span class="n">OtherType</span> <span class="n">other_data</span><span class="p">;</span>
<span class="p">}</span> <span class="n">RecordType</span><span class="p">;</span>
<span class="k">typedef</span> <span class="k">struct</span>
<span class="p">{</span>
    <span class="n">RecordType</span> <span class="n">r</span><span class="p">[</span><span class="n">LIST_SIZE</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span> <span class="c1">// r[0]为工作单元
</span><span class="c1"></span>    <span class="kt">int</span> <span class="n">length</span><span class="p">;</span>
<span class="p">}</span> <span class="n">RecordList</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div><h6 id="顺序结构算法">顺序结构算法</h6>
<p>此处为从后往前的顺序：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="c1">//不设置监视哨，在顺序表中查找关键字等于k的元素
</span><span class="c1"></span><span class="kt">int</span> <span class="nf">SeqSearch_1</span><span class="p">(</span><span class="n">RecordList</span> <span class="n">L</span><span class="p">,</span> <span class="n">KeyType</span> <span class="n">k</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="n">L</span><span class="p">.</span><span class="n">length</span><span class="p">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">L</span><span class="p">.</span><span class="n">r</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">key</span> <span class="o">!=</span> <span class="n">k</span><span class="p">;</span> <span class="n">i</span><span class="o">--</span><span class="p">)</span>
        <span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">i</span><span class="p">;</span>
    <span class="k">else</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">//设置监视哨，顺序表L由后往前查找关键字k，查到返回k在L中的位置，否则返0
</span><span class="c1"></span><span class="kt">int</span> <span class="nf">SeqSearch_2</span><span class="p">(</span><span class="n">RecordList</span> <span class="n">L</span><span class="p">,</span> <span class="n">KeyType</span> <span class="n">k</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
    <span class="n">L</span><span class="p">.</span><span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">key</span> <span class="o">=</span> <span class="n">k</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="n">L</span><span class="p">.</span><span class="n">length</span><span class="p">;</span> <span class="n">L</span><span class="p">.</span><span class="n">r</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">key</span> <span class="o">!=</span> <span class="n">k</span><span class="p">;</span> <span class="n">i</span><span class="o">--</span><span class="p">)</span>
        <span class="p">;</span>
    <span class="k">return</span> <span class="n">i</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h6 id="性能分析">性能分析</h6>
<p>$$
n为表长，c_i为比较次数\\
c_1=n-1+1\\
c_2=n-2+1\\
…\\
c_n=n-n+1\\
即c_i=n-i+1\\
查找每个元素的概率相等，即P_i=\frac{1}{n}\\
查找成功时平均查找长度为\\
ASL_{succ}=\sum_{i=1}^nP_iC_i=\frac{1}{n}\sum_{i=1}^nC_i=\frac{1}{n}\sum_{i=1}^n(n-i+1)=\frac{n+1}{2}
$$</p>
<div class="details admonition note open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-pencil-alt fa-fw"></i>注意<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">ASL为$O(n)$</div>
        </div>
    </div>
<h5 id="折半查找法">折半查找法</h5>
<h6 id="定义">定义</h6>
<p>折半查找（二分查找），要求：</p>
<ol>
<li>采用顺序存储</li>
<li>关键字有序排列</li>
</ol>
<h6 id="基本过程">基本过程</h6>
<p>中间记录关键字与查找关键字比较：</p>
<p>如果两者相等，则查找成功；</p>
<p>否则如查找关键字小于中间位置关键字，则查前部子表，否则查找后部子表。</p>
<h6 id="算法">算法</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="kt">int</span> <span class="nf">BinSrchZ</span><span class="p">(</span><span class="n">SqList</span> <span class="n">L</span><span class="p">,</span> <span class="n">KeyType</span> <span class="n">k</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">,</span> <span class="n">mid</span><span class="p">;</span>
    <span class="n">low</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="n">high</span> <span class="o">=</span> <span class="n">L</span><span class="p">.</span><span class="n">length</span><span class="p">;</span> <span class="c1">//置区间初值
</span><span class="c1"></span>    <span class="k">while</span> <span class="p">(</span><span class="n">low</span> <span class="o">&lt;=</span> <span class="n">high</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">low</span> <span class="o">+</span> <span class="n">high</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">k</span> <span class="o">==</span> <span class="n">L</span><span class="p">.</span><span class="n">r</span><span class="p">[</span><span class="n">mid</span><span class="p">].</span><span class="n">key</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">mid</span><span class="p">;</span> <span class="c1">//查找成功
</span><span class="c1"></span>        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">k</span> <span class="o">&lt;</span> <span class="n">L</span><span class="p">.</span><span class="n">r</span><span class="p">[</span><span class="n">mid</span><span class="p">].</span><span class="n">key</span><span class="p">)</span>
            <span class="n">high</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">//继续在前半区间查找
</span><span class="c1"></span>        <span class="k">else</span>
            <span class="n">low</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">//继续在后半区间查找
</span><span class="c1"></span>    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h6 id="性能分析-1">性能分析</h6>
<p>折半查找过程可用判定树描述判定树结构：</p>
<ul>
<li>树中每一结点表示表中一记录结点值记录在表中的位置</li>
<li>从根到被查结点路径关键字比较次数为被查结点层数</li>
<li>成功进行最多比较次数不超过树深度$[\log_2n] +1$</li>
</ul>
<p>假定表的长度$n=2h-1$，则相应判定树必为深度是 h 的满二叉树，$h=\log_2(n+1)$</p>
<p>折半查找成功的平均查找长度：
$$
ASL_{bs}=\sum_{i=1}^nP_iC_i=\frac{1}{n}\sum_{j=1}^hj×2^{j-1}=\frac{n+1}{n}\log_2(n+1)-1
$$
每个记录的查找概率相等，j 为每层的比较次数，$2^{j-1}$为每层的元素个数</p>
<div class="details admonition note open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-pencil-alt fa-fw"></i>注意<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">ASL为$O(\log_2n)$</div>
        </div>
    </div>
<ul>
<li>优点：
<ul>
<li>比较次数少</li>
<li>查找速度快</li>
<li>平均性能好</li>
<li>适用于固定长度频繁查找的有序表</li>
</ul>
</li>
<li>缺点：
<ul>
<li>要求待查表为有序表</li>
<li>插入删除时需再排序</li>
</ul>
</li>
</ul>
<h5 id="分块查找法">分块查找法</h5>
<h6 id="对所查表要求">对所查表要求</h6>
<ul>
<li>等长分块，最后一块可不满</li>
<li>块内无序</li>
<li>块间有序</li>
</ul>
<h6 id="基本思想">基本思想</h6>
<ul>
<li>分块构造索引表</li>
<li>定块可用顺序或折半查找关键字 k 与索引表关键字比较，确定该查记录所在块</li>
<li>块内顺序查找</li>
</ul>
<h6 id="平均查找长度">平均查找长度</h6>
<p>查找索引表的平均查找长度$L_B$，相应块内顺序查找的平均查找长度$L_W$</p>
<p>平均查找长度：$ASL_{bs}=L_B+L_W$</p>
<p>假定将长度为 n 的表分成 b 块，每块含 s 个元素，则$b=\frac{n}{s}$，</p>
<p>又假定表中每个元素的查找概率相等，则每个索引项的查找概率为$\frac{1}{b}$，块中每个元素的查找概率为$\frac{1}{s}$。则有</p>
<ul>
<li>
<p>顺序法平均查找长度：
$$
L_B=\frac{1}{b}\sum_{j=1}^bj=\frac{b+1}{2}\\
L_W=\frac{1}{s}\sum_{i=1}^si=\frac{s+1}{2}\\
$$
将$b=\frac{n}{s}$代入得
$$
ASL_{bs}=\frac{\frac{n}{s}+1}{2}+1\\
=\frac{b+1+s+1}{2}\\
=\frac{b+s}{2}+1
$$</p>
</li>
<li>
<p>折半法平均查找长度：
$$
L_B=\log_2(b+1)-1\\
ASL_{bs}=\log_2(b+1)-1+\frac{s+1}{2}\\
=\log_2(\frac{s}{n}+1)+\frac{s-1}{2}
$$</p>
</li>
</ul>
<h4 id="基于树的查找法">基于树的查找法</h4>
<p>步骤：</p>
<ol>
<li>将待查表组织成特定树</li>
<li>在树结构上实现查找</li>
</ol>
<p>有三种树：</p>
<ol>
<li>二叉排序树</li>
<li>平衡二叉树</li>
<li>B 树</li>
</ol>
<p>此处重点讲述二叉排序树</p>
<h5 id="二叉排序树">二叉排序树</h5>
<h6 id="定义-1">定义</h6>
<p>二叉树排序树或者是一棵空树，或者是具有如下性质的二叉树：</p>
<ol>
<li>若它的左子树非空，则左子树上所有结点的值均小于根结点的值</li>
<li>若它的右子树非空，则右子树上所有结点的值均大于根结点的值</li>
<li>它的左右子树也分别为二叉排序树</li>
</ol>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://s2.loli.net/2022/02/17/slmnZP2eaRKA95z.png"
        data-srcset="https://s2.loli.net/2022/02/17/slmnZP2eaRKA95z.png, https://s2.loli.net/2022/02/17/slmnZP2eaRKA95z.png 1.5x, https://s2.loli.net/2022/02/17/slmnZP2eaRKA95z.png 2x"
        data-sizes="auto"
        alt="https://s2.loli.net/2022/02/17/slmnZP2eaRKA95z.png"
        title="image-20220217154039461" /></p>
<h6 id="插入和生成">插入和生成</h6>
<ul>
<li>若二叉排序树是空树，则<code>key</code>成为二叉排序树的根</li>
<li>若二叉排序树非空，<code>key</code>与二叉排序树的根比较：
<ol>
<li><code>key</code>的值小于根结点的值，则将<code>key</code>插入左子树</li>
<li><code>key</code>的值大于等于根结点的值，则将<code>key</code>插入右子树</li>
</ol>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="kt">void</span> <span class="nf">CreateBST</span><span class="p">(</span><span class="n">BSTree</span> <span class="o">*</span><span class="n">bst</span><span class="p">)</span> <span class="c1">//从键盘输入元素的值，创建相应的二叉排序树
</span><span class="c1"></span><span class="p">{</span>
    <span class="n">KeyType</span> <span class="n">key</span><span class="p">;</span>
    <span class="o">*</span><span class="n">bst</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">&#34;%d&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">key</span><span class="p">);</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">key</span> <span class="o">!=</span> <span class="n">ENDKEY</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">InsertBST</span><span class="p">(</span><span class="n">bst</span><span class="p">,</span> <span class="n">key</span><span class="p">);</span>
        <span class="n">scanf</span><span class="p">(</span><span class="s">&#34;%d&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">key</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="nf">InsertBST</span><span class="p">(</span><span class="n">BSTree</span> <span class="o">*</span><span class="n">bst</span><span class="p">,</span> <span class="n">KeyType</span> <span class="n">key</span><span class="p">)</span> <span class="c1">// key插入到bst为根的二叉排序树，从根比
</span><span class="c1"></span><span class="p">{</span>
    <span class="n">BiTree</span> <span class="n">s</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!*</span><span class="n">bst</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">s</span> <span class="o">=</span> <span class="p">(</span><span class="n">BSTree</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">BSTNode</span><span class="p">));</span>
        <span class="n">s</span><span class="o">-&gt;</span><span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="p">;</span>
        <span class="n">s</span><span class="o">-&gt;</span><span class="n">LChild</span> <span class="o">=</span> <span class="n">s</span><span class="o">-&gt;</span><span class="n">RChild</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
        <span class="o">*</span><span class="n">bst</span> <span class="o">=</span> <span class="n">s</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">key</span> <span class="o">&lt;</span> <span class="p">(</span><span class="o">*</span><span class="n">bst</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">key</span><span class="p">)</span>
        <span class="n">InsertBST</span><span class="p">(</span><span class="o">&amp;</span><span class="p">((</span><span class="o">*</span><span class="n">bst</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">LChild</span><span class="p">),</span> <span class="n">key</span><span class="p">);</span>
    <span class="k">else</span>
        <span class="n">InsertBST</span><span class="p">(</span><span class="o">&amp;</span><span class="p">((</span><span class="o">*</span><span class="n">bst</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">RChild</span><span class="p">),</span> <span class="n">key</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><div class="details admonition note open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-pencil-alt fa-fw"></i>注意<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">插入一个结点<code>InsertBST(bst, key)</code>时间复杂度为$O(\log_2n)$，创建二叉排序树 n 个结点的时间复杂度为$O(n\log_2n)$。</div>
        </div>
    </div>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>技巧<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">对二叉排序树进行中序遍历，一定会得到一个递增有序序列。</div>
        </div>
    </div>
<h6 id="查找-1">查找</h6>
<p>方法：</p>
<p>根据二叉排序树的特点，关键字 k 与根 t 比较：</p>
<ol>
<li>key = t：返回根结点地址</li>
<li>key &lt; t：进一步查左子树</li>
<li>key &gt; t：进一步查右子树</li>
</ol>
<p>算法：</p>
<ul>
<li>
<p>递归</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="n">BSTree</span> <span class="nf">SearchBST</span><span class="p">(</span><span class="n">BSTree</span> <span class="n">bst</span><span class="p">,</span> <span class="n">KeyType</span> <span class="n">key</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">bst</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">bst</span><span class="o">-&gt;</span><span class="n">key</span> <span class="o">==</span> <span class="n">key</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">bst</span><span class="p">;</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">bst</span><span class="o">-&gt;</span><span class="n">key</span> <span class="o">&gt;</span> <span class="n">key</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">SearchBST</span><span class="p">(</span><span class="n">bst</span><span class="o">-&gt;</span><span class="n">LChild</span><span class="p">,</span> <span class="n">key</span><span class="p">);</span>
    <span class="k">else</span>
        <span class="k">return</span> <span class="n">SearchBST</span><span class="p">(</span><span class="n">bst</span><span class="o">-&gt;</span><span class="n">RChild</span><span class="p">,</span> <span class="n">key</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>非递归</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="n">BSTree</span> <span class="nf">SearchBST_2</span><span class="p">(</span><span class="n">BSTree</span> <span class="n">bst</span><span class="p">,</span> <span class="n">KeyType</span> <span class="n">key</span><span class="p">)</span> <span class="c1">//非递归查找
</span><span class="c1"></span><span class="p">{</span>
    <span class="n">BSTree</span> <span class="n">q</span><span class="p">;</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">bst</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">q</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">q</span><span class="o">-&gt;</span><span class="n">key</span> <span class="o">==</span> <span class="n">key</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">q</span><span class="p">;</span> <span class="c1">//查找成功
</span><span class="c1"></span>        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">q</span><span class="o">-&gt;</span><span class="n">key</span> <span class="o">&gt;</span> <span class="n">key</span><span class="p">)</span>
            <span class="n">q</span> <span class="o">=</span> <span class="n">q</span><span class="o">-&gt;</span><span class="n">LChild</span><span class="p">;</span>
        <span class="k">else</span>
            <span class="n">q</span> <span class="o">=</span> <span class="n">q</span><span class="o">-&gt;</span><span class="n">RChild</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span> <span class="c1">//查找失败
</span><span class="c1"></span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h6 id="查找性能">查找性能</h6>
<p>平均查找长度和二叉排序树的形态有关：</p>
<p>就平均性能而言，二叉排序树上的查找和二分查找相差不大，并且二叉排序树上的插入和删除结点十分方便，无需移动大量结点</p>
<ul>
<li>
<p>最好情况：</p>
<p>二叉排序树接近二分平衡树，平均查找长度大约是$\log_2n$</p>
</li>
<li>
<p>最坏情况：</p>
<p>得到一棵深度为 n 的单支树，平均查找长度和单链表上的顺序查找相同，是$\frac{n+1}{2} $。</p>
</li>
</ul>
<h5 id="平衡二叉树">平衡二叉树</h5>
<h6 id="定义-2">定义</h6>
<p>平衡二叉排序树又称为 AVL 树。</p>
<p>一棵平衡二叉排序树或者是空树，或者是具有下列性质的二叉排序树：</p>
<ol>
<li>左子树与右子树的高度之差的绝对值小于等于 1</li>
<li>左子树和右子树也是平衡二叉排序树</li>
</ol>
<h6 id="平衡因子">平衡因子</h6>
<p>平衡因子（balance factor）即结点的左子树深度与右子树深度之差。</p>
<p>对一棵平衡二叉排序树而言，其所有结点的平衡因子只能是-1、0或1。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://s2.loli.net/2022/02/17/OgEZ8dYelJku3Mt.png"
        data-srcset="https://s2.loli.net/2022/02/17/OgEZ8dYelJku3Mt.png, https://s2.loli.net/2022/02/17/OgEZ8dYelJku3Mt.png 1.5x, https://s2.loli.net/2022/02/17/OgEZ8dYelJku3Mt.png 2x"
        data-sizes="auto"
        alt="https://s2.loli.net/2022/02/17/OgEZ8dYelJku3Mt.png"
        title="image-20220217161551386" /></p>
<h4 id="计算式查找法哈希法">计算式查找法——哈希法</h4>
<h6 id="哈希的基本思想">哈希的基本思想</h6>
<p>比较式查找通过对关键字的一系列查找比较实现，效率与查找表长有关，当关键字可能取值的集合远远大于实际表长时，比较式查找效率低。</p>
<p>而计算式查找对关键字计算得到对应元素的地址$H(key)=Addr$</p>
<p>哈希法（散列法、杂凑法）基本思想：</p>
<ol>
<li>
<p>哈希函数：</p>
<p>建立哈希函数$p=H(key)$，计算关键字 key 在哈希表中的存储位置 p。</p>
</li>
<li>
<p>冲突：</p>
<p>冲突问题:若关键字$key_1 key_2$，哈希函数值$H(key_1)= H(key_2)$，则发生冲突。</p>
</li>
</ol>
<p>冲突原因：</p>
<ol>
<li>必然性：由于关键字可能的取值空间远远大于哈希表的地址空间，冲突不可避免</li>
<li>可能性：哈希函数$H(key)$的散列性能不好，可能加剧冲突发生</li>
</ol>
<h6 id="哈希函数的构造方法">哈希函数的构造方法</h6>
<p>原则：</p>
<ol>
<li>函数本身便于计算</li>
<li>计算出来的地址分布均匀</li>
</ol>
<p>方法：</p>
<ol>
<li>
<p>数字分析法：</p>
<p>从关键字中选出分布较均匀的若干位，构成哈希地址</p>
</li>
<li>
<p>平方取中法：</p>
<p>先求出关键字的平方值，然后按需要取平方值的中间几位作为哈希地址</p>
</li>
<li>
<p>分段叠加法：</p>
<p>按哈希表地址位数将关键字分成位数相等的几部分(最后一部分可以较短），然后将这几部分相加，舍弃最高进位后的结果就是该关键字的哈希地址。</p>
</li>
<li>
<p>除留余数法：</p>
<p>哈希函数为$H(K)=K\%P$，其中%为模 P 取余运算，表长为 m，P 应为小于等于 m 的最大素数</p>
</li>
<li>
<p>伪随机数法：</p>
<p>采用一个伪随机函数做哈希函数，即$h(key)=random(key)$。</p>
</li>
</ol>
<h6 id="处理冲突的方法">处理冲突的方法</h6>
<ol>
<li>
<p><strong>开放定址法</strong></p>
<p>当关键字 key 的哈希地址$p=H (key)$出现冲突时，以 p 为基础，产生另一个哈希地址$p_1$，如果$p_1$仍然冲突，再以 p 为基础，产生另一个哈希地址$p_2$，…，直到找出一个不冲突的哈希地址$p_i$ ，将相应元素存入其中。通用的再散列函数形式：$H_i=(H(key)+d_i)\%m$</p>
<p>形成$d_i$的方法：</p>
<ol>
<li>
<p>线性探测再散列</p>
<p>$d_i=1,2,3,…,m-1$</p>
<p>冲突发生时，顺序查看表中下一单元，直到找出一个空单元或查遍全表</p>
</li>
<li>
<p>二次探测再散列</p>
<p>$d_i=1^2,-1^2,2^2,-2^2,…,k^2,-k^2$</p>
<p>特点:冲突发生时，在表的左右进行跳跃式探测，比较灵活</p>
</li>
<li>
<p>伪随机探测再散列</p>
<p>$d_i=伪随机数序列$</p>
</li>
</ol>
</li>
<li>
<p>再哈希法</p>
<p>同时构造多个不同的哈希函数：$H_i=RH_1(key)\ i=1,2,…,k$</p>
<p>当哈希地址$H_i=RH_1(key)$发生冲突时，再计算$H_i=RH_2(key)$……直到冲突不再产生。</p>
<p>这种方法不易产生聚集，但增加了计算时间。</p>
</li>
<li>
<p><strong>链地址法</strong></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://s2.loli.net/2022/02/18/WIV1uPTQ9kUgD5j.png"
        data-srcset="https://s2.loli.net/2022/02/18/WIV1uPTQ9kUgD5j.png, https://s2.loli.net/2022/02/18/WIV1uPTQ9kUgD5j.png 1.5x, https://s2.loli.net/2022/02/18/WIV1uPTQ9kUgD5j.png 2x"
        data-sizes="auto"
        alt="https://s2.loli.net/2022/02/18/WIV1uPTQ9kUgD5j.png"
        title="链地址法" /></p>
</li>
<li>
<p>建立公共溢出区</p>
<p>将哈希表分为基本表和溢出表两部分，凡是和基本表发生冲突的元素，一律填入溢出表</p>
</li>
</ol>
<h6 id="哈希表的查找过程">哈希表的查找过程</h6>
<p>哈希表的查找过程与哈希表的创建过程规则一致</p>
<p>注意：查到空单元时表示找不到</p>
<p>查找过程：</p>
<ol>
<li>
<p>计算$p_0=hash(K)$</p>
</li>
<li>
<p>如果单元$p_0$为空，则所查元素不存在</p>
</li>
<li>
<p>如果单元$p_0$中元素的关键字为K，则找到所查元素</p>
</li>
<li>
<p>否则重复下述解决冲突的过程：</p>
<p>按解决冲突的方法，找出下一个哈希地址$p_i$</p>
<ol>
<li>如果单元$p_i$为空，则所查元素不存在</li>
<li>如果单元$p_i$中元素的关键字为K，则找到所查元素</li>
</ol>
</li>
</ol>
<p>查找算法：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="kt">int</span> <span class="nf">HashSearch</span><span class="p">(</span><span class="n">HashTable</span> <span class="n">ht</span><span class="p">,</span> <span class="n">KeyType</span> <span class="n">K</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">p0</span><span class="p">,</span> <span class="n">pi</span><span class="p">;</span>
    <span class="n">p0</span> <span class="o">=</span> <span class="n">hash</span><span class="p">(</span><span class="n">K</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">ht</span><span class="p">[</span><span class="n">p0</span><span class="p">].</span><span class="n">key</span> <span class="o">==</span> <span class="n">NULLKEY</span><span class="p">)</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">ht</span><span class="p">[</span><span class="n">p0</span><span class="p">].</span><span class="n">key</span> <span class="o">==</span> <span class="n">K</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">else</span> <span class="c1">//线性探测再散列
</span><span class="c1"></span>    <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">pi</span> <span class="o">=</span> <span class="p">(</span><span class="n">p0</span> <span class="o">+</span> <span class="n">i</span><span class="p">)</span> <span class="o">%</span> <span class="n">m</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">ht</span><span class="p">[</span><span class="n">pi</span><span class="p">].</span><span class="n">key</span> <span class="o">==</span> <span class="n">NULLKEY</span><span class="p">)</span>
                <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">ht</span><span class="p">[</span><span class="n">pi</span><span class="p">].</span><span class="n">key</span> <span class="o">==</span> <span class="n">K</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">pi</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h6 id="哈希法性能分析">哈希法性能分析</h6>
<p>影响比较次数的因素：</p>
<ol>
<li>
<p>哈希函数</p>
</li>
<li>
<p>处理冲突的方法</p>
</li>
<li>
<p>装填因子</p>
</li>
</ol>
<p>哈希表的装填因子 α 的定义：
$$
α=\frac{哈希表中元素个数}{哈希表的长度}
$$
α 可描述哈希表的装满程度。显然，α 越小，发生冲突的可能性越小；而 α 越大，发生冲突的可能性也越大。</p>
<p>等概率情况下查找成功的平均查找长度：
$$
ASL_{succ}=\frac{1}{表中置入元素个数n}\sum_{i=1}^nC_i
$$
等概率情况下查找不成功的平均查找长度公式
$$
ASL_{unsucc}=\frac{1}{哈希函数取值个数r}\sum_{i=0}^{r-1}C_i
$$</p>
<ol>
<li>
<p>线性探测再散列：
$$
ASL_{succ}≈\frac{1+\frac{1}{1-α}}{2}\\
ASL_{unsucc}=\frac{1+\frac{1}{(1-α)^2}}{2}
$$</p>
</li>
<li>
<p>伪随机探测再散列、二次探测再散列、再哈希：
$$
ASL_{succ}≈-\frac{\ln(1-α)}{α}\\
ASL_{unsucc}=\frac{1}{1-α}
$$</p>
</li>
<li>
<p>链址法：
$$
ASL_{succ}≈1+\frac{α}{2}\\
ASL_{unsucc}=α+e^{-α}
$$</p>
</li>
</ol></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2022-02-17</span>
            </div>
            <div class="post-info-license"><span><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" one-link-mark="yes" class="link-instanted">CC BY-NC 4.0</a></span></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/data_structure-8/index.md" target="_blank">阅读原始文档</a>
                        </span></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a>,&nbsp;<a href="/tags/%E5%AD%A6%E4%B9%A0/">学习</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/data_structure-7/" class="prev" rel="prev" title="数据结构学习(七)"><i class="fas fa-angle-left fa-fw"></i>数据结构学习(七)</a>
            <a href="/qinglong/" class="next" rel="next" title="青龙面板教程">青龙面板教程<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"><div id="waline"></div>
    <script src='https://cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js'></script>

    <script>
        new Waline({
            el: '#waline',
            meta: ["nick","mail","link"],
            requiredMeta: ["nick","mail"],
            login: "force",
            placeholder: "为防恶意灌水攻击，评论前需注册并登录，望见谅~",
            serverURL: "https://blog-api-jade.vercel.app",
            avatarCDN: "https://sdn.geekzu.org/avatar/",
            pageSize:  20 ,
            avatar: "retro",
            lang: "zh-CN",
            visitor:  true ,
            highlight:  true ,
            uploadImage:  false ,
            emoji: [
            'https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/qq',
            'https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/bilibili',
            'https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/tieba',
        ],
                		    	});
    </script></div></article></div>
            </main>
            <footer class="footer">
    <div class="footer-container">
        <div class="footer-line">
            <span id="run-time"></span>
        </div><div class="footer-line"><span>本网站由</span><a href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" target="blank"><img height="18" src="http://image.sukun.xyz/img/又拍云_logo5.png" alt="又拍云"></a><span>提供 CDN 加速/云存储服务</span></div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a
                    href="https://www.sukun.xyz" target="_blank">Sukun</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" one-link-mark="yes" class="link-instanted">CC BY-NC 4.0</a></span><span class="icp-splitter">&nbsp;|&nbsp;</span><br class="icp-br" />
            <span class="icp"><a href="https://beian.miit.gov.cn/" target="_blank">蜀ICP备2022011825号-1</a></span></div>
    </div>
</footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/copy-tex.min.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/copy-tex.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/mhchem.min.js"></script><script type="text/javascript" src="https://cdn.bootcss.com/canvas-nest.js/1.0.1/canvas-nest.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":10},"comment":{},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false}};</script><script type="text/javascript" src="/js/theme.min.js"></script><script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script><script type="text/javascript" src="/js/custom.js"></script><script type="text/javascript">
    window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date());
    gtag('config', 'UA-207270792-1', { 'anonymize_ip': true });
</script><script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=UA-207270792-1" async></script><script>
    var _hmt = _hmt || [];
    (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?36906624de93fc40ef084568363cdc35";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script></body>
</html>
